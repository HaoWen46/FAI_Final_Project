# From https://www.actionnetwork.com/casino/poker/top-20-hole-cards
# sort cards by rank => [x, y], where x <= y
# if suited, then return HOLE_CARD_EST[y][x]
# otherwise, return HOLE_CARD_EST[x][y]

class HoleCardEstimator:
    __RANKS = {'2': 0, '3': 1, '4': 2, '5': 3, '6': 4, '7': 5, '8': 6, '9': 7, 'T': 8, 'J': 9, 'Q': 10, 'K': 11, 'A': 12}
    __HOLE_CARD_STRENGTH = {
        'A': {'A': 0.85, 'K': 0.68, 'Q': 0.67, 'J': 0.66, 'T': 0.66, '9': 0.64, '8': 0.63, '7': 0.63, '6': 0.62, '5': 0.62, '4': 0.61, '3': 0.60, '2': 0.59},
        'K': {'A': 0.66, 'K': 0.83, 'Q': 0.64, 'J': 0.64, 'T': 0.63, '9': 0.61, '8': 0.60, '7': 0.59, '6': 0.58, '5': 0.58, '4': 0.57, '3': 0.56, '2': 0.55},
        'Q': {'A': 0.65, 'K': 0.62, 'Q': 0.80, 'J': 0.61, 'T': 0.61, '9': 0.59, '8': 0.58, '7': 0.56, '6': 0.55, '5': 0.55, '4': 0.54, '3': 0.53, '2': 0.52},
        'J': {'A': 0.65, 'K': 0.62, 'Q': 0.59, 'J': 0.78, 'T': 0.59, '9': 0.57, '8': 0.56, '7': 0.54, '6': 0.53, '5': 0.52, '4': 0.51, '3': 0.50, '2': 0.50},
        'T': {'A': 0.64, 'K': 0.61, 'Q': 0.59, 'J': 0.57, 'T': 0.75, '9': 0.56, '8': 0.54, '7': 0.53, '6': 0.51, '5': 0.49, '4': 0.49, '3': 0.48, '2': 0.47},
        '9': {'A': 0.62, 'K': 0.59, 'Q': 0.57, 'J': 0.55, 'T': 0.53, '9': 0.72, '8': 0.53, '7': 0.51, '6': 0.50, '5': 0.48, '4': 0.46, '3': 0.46, '2': 0.45},
        '8': {'A': 0.61, 'K': 0.58, 'Q': 0.55, 'J': 0.53, 'T': 0.52, '9': 0.50, '8': 0.69, '7': 0.50, '6': 0.49, '5': 0.47, '4': 0.45, '3': 0.43, '2': 0.43},
        '7': {'A': 0.60, 'K': 0.57, 'Q': 0.54, 'J': 0.52, 'T': 0.50, '9': 0.48, '8': 0.47, '7': 0.67, '6': 0.48, '5': 0.46, '4': 0.45, '3': 0.43, '2': 0.41},
        '6': {'A': 0.59, 'K': 0.56, 'Q': 0.53, 'J': 0.50, 'T': 0.48, '9': 0.47, '8': 0.46, '7': 0.45, '6': 0.64, '5': 0.46, '4': 0.44, '3': 0.42, '2': 0.40},
        '5': {'A': 0.60, 'K': 0.55, 'Q': 0.52, 'J': 0.49, 'T': 0.47, '9': 0.45, '8': 0.44, '7': 0.43, '6': 0.43, '5': 0.61, '4': 0.44, '3': 0.43, '2': 0.41},
        '4': {'A': 0.59, 'K': 0.54, 'Q': 0.51, 'J': 0.48, 'T': 0.46, '9': 0.43, '8': 0.42, '7': 0.41, '6': 0.41, '5': 0.41, '4': 0.58, '3': 0.42, '2': 0.40},
        '3': {'A': 0.58, 'K': 0.54, 'Q': 0.50, 'J': 0.48, 'T': 0.45, '9': 0.43, '8': 0.40, '7': 0.39, '6': 0.39, '5': 0.39, '4': 0.38, '3': 0.55, '2': 0.39},
        '2': {'A': 0.57, 'K': 0.53, 'Q': 0.49, 'J': 0.47, 'T': 0.44, '9': 0.42, '8': 0.40, '7': 0.37, '6': 0.37, '5': 0.37, '4': 0.36, '3': 0.35, '2': 0.51}    
    }
    
    @classmethod
    def eval(self, hole_cards: list):
        X = hole_cards[0][0] == hole_cards[1][0]
        Y = self.__RANKS[hole_cards[0][1]] <= self.__RANKS[hole_cards[1][1]]
        c1, c2 = [hole_cards[0][1], hole_cards[1][1]][::-int(X == Y) | 1]
        return self.__HOLE_CARD_STRENGTH[c1][c2]